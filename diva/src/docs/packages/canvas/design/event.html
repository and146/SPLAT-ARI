<!-- Copyright (c) 1998-2001 The Regents of the University of California. -->
<!-- All rights reserved. See the file COPYRIGHT for details.             -->


<html>
<head>
    <title>The event package</title>
             <!--header-->
  <LINK href="../../../diva.css" rel="stylesheet" type="text/css">
<!--/header-->
</head>
<body bgcolor=#ffffff bgcolor="#ffffff">
<div class="body">
</div>
<!--navbar-->


<!--/navbar-->


<h1>The event package</h1>
<!--contents-->

<!--/contents-->

<p>
The key classes in the event package are shown here:

<p>
<center>
<img src="images/events.gif">
</center>

<p>
The central class is LayerEvent, which is produced by JCanvas in the
(protected) methods processMouseEvent() and processMouseMotionEvent().
These methods accept a MouseEvent, and produce a LayerEvent, which
they then pass to the dispatchEvent() method of the top-level canvas pane.
From then on, all event processing in the Diva canvas uses LayerEvents
instead of MouseEvents.

<p> The LayerEvent class and the associated listener interfaces
(LayerListener and LayerMotionListener) differ from the AWT MouseEvent
class in two key ways:

<ol>

<li> The coordinates are stored in floating-point form as well as
integers. The integer values maintained by the MouseEvent superclass
are the original screen coordinates of the mouse event, while the
floating-point coordinates accessible through the methods getLayerX(),
getLayerY(), and getLayerPoint(), are coordinates transformed into the
current coordinate system.

<li> The division of event types is different. The AWT
MouseMotionListener, has the methods mouseMoved() and mouseDragged(),
whereas the LayerMotionListener has mouseEntered(), mouseExited(), and
mouseMoved(). We made this separation since: a) in typical interactive
graphics applications, the three events mousePressed(),
mouseDragged(), and mouseReleased() generally occur together and b)
the entered, exited and moved events are much more expensive to process
than the other events, so we figured that there would be less
overhead this way.

</ol>

<p>
Accompanying the event and listener class and interfaces are the usual
hangers-on: a multi-caster for use by classes that maintain a set
of listeners, and adapter classes that provide null implementations
of the listener interfaces.

 <p>
[FIXME: add explanation of EventLayer and EventAcceptor.]

<p>
<!--navigation-->
<br>
<a href="index.html">  <img  border=0  src="../../../images/nav-top.gif"  alt="Top: The Diva Canvas Design Reference"></a>
<a href="event-section.html">  <img  border=0  src="../../../images/nav-section.gif"  alt="Up: Events and interaction"></a>
<a href="picking.html">  <img  border=0  src="../../../images/nav-next.gif"  alt="Next: Picking and event dispatch"></a>

<br>

<!--/navigation-->
<!--customfooter-->

<!--/customfooter-->
</body>
</html>





