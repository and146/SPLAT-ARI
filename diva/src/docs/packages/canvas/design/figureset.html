<!-- Copyright (c) 1998-2001 The Regents of the University of California. -->
<!-- All rights reserved. See the file COPYRIGHT for details.             -->


<html>
<head>
    <title>Figure sets and containers</title>
                                <!--header-->
  <LINK href="../../../diva.css" rel="stylesheet" type="text/css">
<!--/header-->
</head>
<div class="body">
<body bgcolor=#ffffff bgcolor="#ffffff">
<!--navbar-->


<!--/navbar-->


<h1>Figure sets and containers</h1>
<!--contents-->

<!--/contents-->

The Diva canvas has a number of interfaces related to collections of
figures. FigureSet, the root interface, defines methods to test for
containment, and to return the contained figures. There are three
version of this last method: figuresFromFront() orders the figures
from front (that is, the top of the display list) to the back;
figuresFromBack() orders them from back to front; and figures() orders
them however is fastest. (Generally, testing for hits proceeds from
front to back, while redraw proceeds from back to front.)

<p>
<img src="images/figureset.gif">

<p>
A GeometricSet is an interface for sets of figures that have their
members defined by a geometry -- that is, a Shape object -- in some
way. The methods freshFigures() and staleFigures() are optional; but
if defined, they are expected to return the figures added to the set
by the most recent change to the geometry, and the figures removed from
the set respectively. This is used by interactive applications.  Note
that the getFigureCount() method does not appear in this interface, to
allow implementors to use lazy evaluation to produce the elements of
the set.

<p> A ZList is the data structure in which large collections of
figures are stored. The interface is designed to allow an
implementation to use an efficient spatial data structure
internally. Currently, the only implementation is a naive list-based
one, but eventually we hope to provide an efficient implementation
based on b-trees or quad-trees.

<p> A FigureContainer is the interface implemented by classes that can
be set as the parent of a Figure. In the Diva canvas, this interface
is implemented by FigureLayer and AbstractFigureContainer (and its
subclasses, including CompositeFigure and TransformedFigureContainer).

<p> The pick() method returns the top-most descendent that
intersects the passed rectangle. Implementors can use the utility
method CanvasUtilities.pick() to do the work. decorate() and
undecorate() are required to enable DecoratorFigure objects to be
inserted into the figure tree -- see the section on decorators
for more detail.

<p>
<!--navigation-->
<br>
<a href="index.html">  <img  border=0  src="../../../images/nav-top.gif"  alt="Top: The Diva Canvas Design Reference"></a>
<a href="figure.html">  <img  border=0  src="../../../images/nav-prev.gif"  alt="Previous: The figure interface"></a>
<a href="jcanvas-section.html">  <img  border=0  src="../../../images/nav-section.gif"  alt="Up: The JCanvas architecture"></a>
<a href="transforms.html">  <img  border=0  src="../../../images/nav-next.gif"  alt="Next: Transform contexts"></a>

<br>

<!--/navigation-->

<!--customfooter-->

<!--/customfooter-->
</body>
</div>
</html>





