<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Scripted Event Handling</TITLE>
<META NAME="description" CONTENT="Scripted Event Handling">
<META NAME="keywords" CONTENT="programming">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="programming.css">

<LINK REL="next" HREF="node71.html">
<LINK REL="previous" HREF="node67.html">
<LINK REL="up" HREF="node19.html">
<LINK REL="next" HREF="node69.html">
</HEAD>

<BODY >
<BR> <HR>
<A NAME="tex2html877"
  HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html875"
  HREF="node19.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html869"
  HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   <A HREF="programming.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="134"></A>
<BR>
<B> Next:</B> <A NAME="tex2html878"
  HREF="node69.html">Anonymous inner class style</A>
<BR>
<B>Up:</B> <A NAME="tex2html876"
  HREF="node19.html">BeanShell User's Manual</A>
<BR>
<B> Previous:</B> <A NAME="tex2html870"
  HREF="node67.html">Scripted Objects</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->

<H2><A NAME="SECTION00059000000000000000">
Scripted Event Handling</A>
</H2>

<P>
One of the most powerful features of Bsh is the ability to script
event handlers and other interface types.  To do this simply define
the appropriate methods in your script or scripted object and use the
corresponding `this' reference.

<P>
For example, we could could script an event handler for a button like so:
<BLOCKQUOTE>
<PRE>
    button = new java.awt.Button("foo!");

    actionPerformed( event ) {
        print( event );
    }

    button.addActionListener( this );
    frame( button );  // show it
</PRE>
</BLOCKQUOTE>
Now when ActionEvents are fired by the button, your actionPerformed()
method will be invoked.  The bsh `this' reference implements
the interface and directs them to the appropriately named method, if it exists.

<P>
But you don't have to define all of your interface methods globally.
You can get callbacks in any bsh object scope.  For example, the following
method creates a button that displays a message when pushed:
<BLOCKQUOTE>
<PRE>
    messageButton( message ) {
        b = new Button("Press Me");
        b.addActionListener( this );
        frame(b);

        actionPerformed( e ) {
            print( message );
        }
    }

    messageButton("Hey you!");
    messageButton("Another message...");
</PRE>
</BLOCKQUOTE>
The above will create two buttons and each will display its own message
when pushed.  Each has a separate instance of the event handler object.
Note too that we could return a `this' reference from the handler method and
use it in other contexts to register listeners...

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html879"
  HREF="node69.html">Anonymous inner class style</A>
<LI><A NAME="tex2html880"
  HREF="node70.html">Details</A>
</UL>
<!--End of Table of Child-Links-->
<BR> <HR>
<A NAME="tex2html877"
  HREF="node69.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html875"
  HREF="node19.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html869"
  HREF="node67.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   <A HREF="programming.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="134"></A>
<BR>
<B> Next:</B> <A NAME="tex2html878"
  HREF="node69.html">Anonymous inner class style</A>
<BR>
<B>Up:</B> <A NAME="tex2html876"
  HREF="node19.html">BeanShell User's Manual</A>
<BR>
<B> Previous:</B> <A NAME="tex2html870"
  HREF="node67.html">Scripted Objects</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->
<ADDRESS>
<I>SPLAT - A Spectral Analysis Tool<BR>Starlink Document programming<BR>Peter W. Draper<BR>21 December 2001<BR>E-mail:<A HREF="mailto:starlink@jiscmail.ac.uk">starlink@jiscmail.ac.uk</A><BR><BR>Copyright (C) 2001-2005 Council for the Central Laboratory of the Research Councils<br>Copyright (C) 2006-2007 Particle Physics and Astronomy Research Council<br>Copyright (C) 2007-2009 Science and Technology Facilities Council<BR></I>
</ADDRESS>
</BODY>
</HTML>
